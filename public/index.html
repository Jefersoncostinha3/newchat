<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The New Chat</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <video autoplay muted loop playsinline id="background-video">
        <source src="https://gifdb.com/images/high/gfycat-network-background-7ceo8pg1xxgcqj90.webp" type="video/mp4">
        <source src="https://gifdb.com/images/high/gfycat-network-background-7ceo8pg1xxgcqj90.webp" type="video/webm">
        Seu navegador não suporta vídeos de fundo.
    </video>

    <div id="app">
        <div id="nickname-screen">
            <h2>Escolha seu Apelido</h2>
            <input type="text" id="nickname-input" placeholder="Seu apelido">
            <button id="set-nickname-btn">Entrar no Chat</button>
            <p id="nickname-error" class="error-message"></p>
        </div>

        <div id="chat-screen" style="display: none;">
            <div id="sidebar">
                <h3>Salas</h3>
                <ul id="room-list">
                    <li data-room="general" class="active-room">#general</li>
                    <li data-room="random">#random</li>
                    </ul>
                <div class="room-actions">
                    <input type="text" id="new-room-input" placeholder="Criar/Entrar Sala">
                    <button id="join-new-room-btn">Ir</button>
                </div>

                <h3>Usuários na Sala (<span id="current-room-name">#general</span>)</h3>
                <ul id="users-list">
                    </ul>
            </div>

            <div id="main-chat">
                <div id="messages">
                    </div>
                <div id="chat-input-area">
                    <input type="text" id="message-input" placeholder="Digite sua mensagem...">
                    <button id="send-message-btn">Enviar</button>
                </div>
            </div>
            
            <div id="call-controls" style="display: none;">
                <p id="call-status"></p>
                <button id="end-call-btn" style="display: none;">Encerrar Chamada</button>
                <button id="mute-unmute-btn" style="display: none;">Silenciar</button>
            </div>

            <div id="call-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <p id="incoming-call-message"></p>
                    <button id="accept-call-btn">Aceitar</button>
                    <button id="decline-call-btn">Recusar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
